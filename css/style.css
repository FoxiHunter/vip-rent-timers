@layer base, components, utilities;

@layer base {
  :root{
    --bg:#090a0e;
    --bg-2:#0c0f16;
    --panel:#0e131d;
    --glass:rgba(255,255,255,.04);
    --glass-2:rgba(255,255,255,.025);
    --stroke:rgba(255,255,255,.08);
    --stroke-2:rgba(255,255,255,.12);
    --text:#e8ecf4;
    --muted:#9aa7bd;

    --brand:#8b5cff;
    --brand-2:#ff64c7;
    --accent:#13e6c3;
    --accent-2:#7eff7a;

    --danger:#ff5c7a;
    --success:#2fe39e;
    --shadow:0 20px 44px rgba(0,0,0,.55), 0 6px 14px rgba(0,0,0,.35);
    --radius:14px;
    --radius-lg:20px;
    --blur:14px;
  }

  .accent-purple{--brand:#8b5cff;--brand-2:#6a4dff}
  .accent-pink{--brand:#ff64c7;--brand-2:#ff3e9f}
  .accent-blue{--brand:#5b8dff;--brand-2:#3c6dff}
  .accent-teal{--brand:#13e6c3;--brand-2:#00c9b0}
  .accent-lime{--brand:#7eff7a;--brand-2:#5fe15a}

  *{box-sizing:border-box;min-width:0}
  html,body{height:100%}
  html{color-scheme:dark}
  @import url("https://fonts.googleapis.com/css2?family=Manrope:wght@700;800;900&family=Inter:wght@400;600;800&display=swap");

  body{
    margin:0;
    color:var(--text);
    background:
      radial-gradient(900px 480px at 12% -10%, rgba(139,92,255,.12), transparent 60%),
      radial-gradient(800px 520px at 90% 0%, rgba(19,230,195,.10), transparent 60%),
      linear-gradient(#090a0e,#0c0f16);
    font-family: Inter, Arial, sans-serif;
    line-height:1.45;
    font-size:16px;
    letter-spacing:.1px;
    position:relative;
  }

  ::selection{background:rgba(139,92,255,.28)}
  :focus-visible{outline:3px solid color-mix(in oklab, var(--brand) 55%, #fff 0%);outline-offset:3px;border-radius:10px}

  .app-wrap{max-width:1240px;margin:0 auto;padding:24px}
  .app-header{text-align:center;margin-bottom:26px}

  .app-header h1{
    margin:0 0 8px;
    font-family:"Manrope", Inter, Arial, sans-serif;
    font-weight:900;
    line-height:1.05;
    font-size:44px;
    letter-spacing:.2px;
    background:linear-gradient(90deg,#e8ecf4 0%, var(--brand) 45%, var(--brand-2) 100%);
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
    text-shadow:0 6px 30px color-mix(in oklab,var(--brand) 30%, transparent);
  }

  .app-header p{margin:0;color:var(--muted);font-weight:600}

  .app-main{display:flex;flex-direction:column;gap:18px}

  .panel{
    position:relative;
    border-radius:var(--radius-lg);
    padding:20px;
    background:
      linear-gradient(180deg, color-mix(in oklab, var(--panel) 92%, #fff 8%), color-mix(in oklab, var(--panel) 96%, #000 4%));
    border:1px solid var(--stroke);
    box-shadow:var(--shadow);
    backdrop-filter:saturate(1.05) blur(var(--blur));
  }

  .panel.bring-to-front{z-index:5;transform:translateY(-1px)}
  .panel h2{margin:0 0 12px;font-size:22px;color:#fff;letter-spacing:.2px}

  .panel,.subpanel,.card{
    background:
      linear-gradient(180deg, color-mix(in oklab, var(--panel) 92%, #fff 8%), color-mix(in oklab, var(--panel) 96%, #000 4%));
    border:1px solid var(--stroke);
  }

  .panel-grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:16px;
    max-width:1080px;
    margin:0 auto;
  }

  .subpanel{
    border-radius:var(--radius);
    padding:16px;
    box-shadow:0 8px 24px rgba(0,0,0,.45);
  }

  .subpanel-head{
    display:flex;align-items:center;justify-content:space-between;
    padding:8px 0 12px;border-bottom:1px dashed var(--stroke-2);margin-bottom:12px
  }

  .subpanel h3{margin:0;font-size:17px;color:#fff;font-weight:800}

  .form-row{display:flex;flex-direction:column;gap:10px;margin-bottom:14px}
  .form-row label{font-size:14px;color:var(--muted);font-weight:700}
  .inline-inputs{display:flex;gap:12px;flex-wrap:wrap}

  input[type="text"],input[type="number"],input[type="email"],select{
    width:100%;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid var(--stroke);
    background:#0f1524;
    color:#e8eef9;
    outline:none;
    font-size:15px;
    transition:.18s ease;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
  }

  input[type="text"]:focus,input[type="number"]:focus,input[type="email"]:focus,select:focus{
    border-color:var(--brand);
    box-shadow:0 0 0 4px color-mix(in oklab, var(--brand) 22%, transparent), inset 0 1px 0 rgba(255,255,255,.08);
    background:#111a2e;
  }

  .actions{display:flex;flex-wrap:wrap;gap:12px;margin-top:8px}

  .btn{
    appearance:none;
    border:none;
    border-radius:12px;
    padding:13px 18px;
    cursor:pointer;
    font-weight:900;
    letter-spacing:.3px;
    color:#0b0e14;
    font-size:14px;
    transition:.14s ease;
    background:
      linear-gradient(180deg,rgba(255,255,255,.22) 0%, rgba(255,255,255,.08) 60%),
      linear-gradient(90deg,var(--brand) 0%, var(--brand-2) 100%);
    background-blend-mode:overlay,normal;
    border:1px solid rgba(255,255,255,.12);
    box-shadow:0 14px 30px color-mix(in oklab, var(--brand) 28%, transparent), 0 3px 8px rgba(0,0,0,.35);
  }

  .btn.secondary{
    color:#0a0c12;
    background:
      linear-gradient(180deg,rgba(255,255,255,.22) 0%, rgba(255,255,255,.08) 60%),
      linear-gradient(90deg,var(--accent) 0%, var(--accent-2) 100%);
    box-shadow:0 14px 30px color-mix(in oklab, var(--accent) 28%, transparent), 0 3px 8px rgba(0,0,0,.35)
  }
  .btn:active{transform:translateY(1px) scale(.99)}
  .btn:hover{opacity:.98;box-shadow:0 18px 40px color-mix(in oklab, var(--brand) 34%, transparent), 0 4px 12px rgba(0,0,0,.4)}
  .btn.secondary:hover{box-shadow:0 18px 40px color-mix(in oklab, var(--accent) 34%, transparent), 0 4px 12px rgba(0,0,0,.4)}

  .header-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .auth-box{display:flex;align-items:center;gap:10px}

  .panel-head-with-filter{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
  .filterbar{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
  .filterbar label{color:var(--muted);font-size:14px;font-weight:800}

  .cards-container{
    display:flex;flex-direction:column;gap:12px;
    scrollbar-width:thin;
  }

  .cards-container::-webkit-scrollbar{height:10px;width:10px}
  .cards-container::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--brand),var(--brand-2));border-radius:999px}
  .cards-container::-webkit-scrollbar-track{background:rgba(255,255,255,.06);border-radius:10px}

  .card{
    display:flex;flex-direction:column;gap:10px;
    background:linear-gradient(180deg,rgba(255,255,255,.045) 0%, rgba(255,255,255,.02) 100%);
    border:1px solid var(--stroke);
    border-radius:16px;
    padding:16px;
    transition:.2s ease;
    box-shadow:0 12px 28px rgba(0,0,0,.45);
  }

  .card:hover{transform:translateY(-2px);box-shadow:0 18px 40px rgba(0,0,0,.55)}
  .card.expired{border-color:rgba(255,92,122,.35);background:linear-gradient(180deg,rgba(255,92,122,.08), rgba(255,255,255,.02))}
  .card-top{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .nick{font-size:16px;font-weight:900;letter-spacing:.2px;font-family:"Manrope", Inter, Arial, sans-serif}
  .status-badge{
    font-size:12px;font-weight:900;padding:7px 12px;border-radius:999px;
    background:rgba(47,227,158,.14);color:var(--success);border:1px solid rgba(47,227,158,.36)
  }
  .card.expired .status-badge{background:rgba(255,92,122,.12);color:var(--danger);border-color:rgba(255,92,122,.38)}
  .expires-at{font-size:14px;color:#cfe0ff;font-weight:700}
  .time-left{font-size:14px;color:#eaf1ff;font-weight:800}
  .actions-row{display:flex;gap:10px}

  .card button.delete{
    background: linear-gradient(90deg,#ff6b86,#ff3e68);
    color:#fff;border:0;border-radius:12px;padding:11px 14px;cursor:pointer;
    font-weight:900;font-size:13px;transition:.14s ease;
    box-shadow:0 14px 30px rgba(255,92,122,.26)
  }
  .card button.delete:hover{opacity:.98;transform:translateY(-1px)}

  .select-wrap{position:relative;min-width:220px;z-index:1}
  .select-wrap.open{z-index:6}
  .select-toggle{
    width:100%;padding:12px 44px 12px 12px;border-radius:12px;
    border:1px solid var(--stroke);
    background:#0f1626;
    color:#e9eef6;font-size:14px;font-weight:900;cursor:pointer;text-align:left;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
    transition:.16s ease;
  }
  .select-toggle[aria-expanded="true"]{box-shadow:0 0 0 4px color-mix(in oklab, var(--brand) 22%, transparent);border-color:var(--brand)}
  .select-toggle::after{
    content:"";position:absolute;right:12px;top:50%;transform:translateY(-50%);
    width:16px;height:16px;pointer-events:none;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23cfe0ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")
  }
  .select-menu{
    position:absolute;left:0;right:0;top:calc(100% + 8px);
    background:#0f1524;
    border:1px solid var(--stroke);
    border-radius:12px;
    box-shadow:var(--shadow);padding:6px;list-style:none;margin:0;display:none;max-height:260px;overflow:auto;z-index:7
  }
  .select-menu.open{display:block}
  .select-menu li{
    padding:11px;border-radius:10px;cursor:pointer;font-size:14px;color:#e9eef6;font-weight:800;
    display:flex;align-items:center;justify-content:space-between;transition:.12s ease
  }
  .select-menu li[aria-selected="true"]{background:color-mix(in oklab, var(--brand) 18%, transparent);outline:1px solid color-mix(in oklab, var(--brand) 32%, transparent)}
  .select-menu li:hover{background:rgba(255,255,255,.06)}

  .native-select-hidden{position:absolute!important;opacity:0!important;pointer-events:none!important;width:0;height:0;border:0;padding:0;margin:0}

  .notification{
    position:fixed;top:16px;right:16px;
    background:#0f1626;
    color:#e9eef6;padding:12px 14px;border-radius:12px;box-shadow:var(--shadow);
    opacity:0;transform:translateY(-10px) scale(.98);transition:.25s ease;z-index:8;
    border:1px solid var(--stroke);font-weight:800
  }
  .notification.show{opacity:1;transform:translateY(0) scale(1)}
}

@layer utilities {
  .anim-enter-active{animation:enterActive .45s cubic-bezier(.2,.8,.2,1)}
  .anim-enter-expired{animation:enterExpired .45s cubic-bezier(.2,.8,.2,1)}
  .anim-to-expired{animation:toExpired .5s ease-out}

  @keyframes enterActive{0%{opacity:0;transform:translateY(10px) scale(.985)}100%{opacity:1;transform:translateY(0) scale(1)}}
  @keyframes enterExpired{0%{opacity:0;transform:translateY(12px) scale(.985)}100%{opacity:1;transform:translateY(0) scale(1)}}
  @keyframes toExpired{0%{transform:translateY(-4px)}50%{transform:translateY(0)}100%{transform:translateY(0)}}

  @media (prefers-reduced-motion: reduce){
    .anim-enter-active,.anim-enter-expired,.anim-to-expired{animation:none!important}
    .card,.btn,.select-toggle,.notification{transition:none!important}
  }

  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
}

@layer components {
  @media (min-width:1600px){
    .panel-grid{max-width:1280px;gap:20px}
    .app-header h1{font-size:52px}
  }

  @media (max-width:1200px){
    .panel-grid{grid-template-columns:1fr;max-width:860px}
    .app-wrap{padding:20px}
  }

  @media (max-width:800px){
    .header-row{flex-direction:column;align-items:flex-start;gap:10px}
    .panel-grid{max-width:100%}
    .app-header h1{font-size:36px}
  }

  @media (max-width:560px){
    .app-wrap{padding:16px}
    .inline-inputs{flex-direction:column}
    .actions{flex-direction:column}
    .panel-head-with-filter{flex-direction:column;align-items:flex-start;gap:10px}
    .filterbar{width:100%}
    .select-wrap{width:100%}
    .card{padding:14px}
    .app-header h1{font-size:30px}
  }
}
